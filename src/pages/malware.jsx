import React, { useState } from 'react';
import malwarejson from './malware.json';
import { Card, Space, Input } from 'antd'; // Import component
import TopNav from '../component/TopNav';

function List(props) {
  return (
    <Space wrap size={50} style={{ display: 'flex', flexWrap: 'wrap', justifyContent: 'center', justifyItems: 'center' }}>
      {props.filteredMalware.map((ml) => (
        <Card
          title={ml.name}
          extra={<a href={ml.url}>More and Download</a>}
          style={{ width: "350px", border: '#000000 solid 2px' }}
          cover={<img alt="alt" src={ml.imagepath} height={300}></img>}
        >
          <p>{ml.description}</p>
        </Card>
      ))}
    </Space>
  );
}

export default function MalwareList() {
  const [searchTerm, setSearchTerm] = useState('');

  // Hàm xử lý sự kiện khi người dùng thay đổi ô tìm kiếm
  const handleSearch = (e) => {
    setSearchTerm(e.target.value);
  };

  // Lọc danh sách malware dựa trên từ khóa tìm kiếm
  const filteredMalware = malwarejson.filter(ml => ml.name.toLowerCase().includes(searchTerm.toLowerCase()));

  return (
    <div>
      <TopNav />
      <div style={{ marginTop: 10 }}>
        <Input
          placeholder="Search malware..."
          onChange={handleSearch}
          value={searchTerm}
        />
        <List filteredMalware={filteredMalware} />
      </div>
    </div>
  );
}